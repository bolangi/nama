#
#
#         Nama Configuration file

#         Notes

#         - This configuration file is distinct from
#           Ecasound's configuration file .ecasoundrc . 
#           In most instances the latter is not required.

#        - The format of this file is YAMLish, preprocessed to allow
#           comments.
#
#        - A value _must_ be supplied for each 'leaf' field.
#          For example "mixer_out_format: cd-stereo"
#
#        - A value must _not_ be supplied for nodes, i.e.
#          'device:'. The value for 'device' is the entire indented
#          data structure that follows in subsequent lines.
#
#        - Indents are significant, two spaces indent for
#          each new level of branching
#
#        - Use the tilde symbol '~' to represent a null value
#

# project root directory

# all project directories (or their symlinks) will live here

project_root: ~                  # replaced during first run


# define abbreviations

abbreviations:  
  24-mono: s24_le,1,frequency
  24-stereo: s24_le,2,frequency,i
  cd-mono: s16_le,1,44100
  cd-stereo: s16_le,2,44100,i
  frequency: 44100

# define audio devices

devices: 
  jack:
    signal_format: f32_le,N,frequency
  consumer:
    ecasound_id: alsa,default
    input_format: cd-stereo
    output_format: cd-stereo
  multi:
    ecasound_id: alsa,ice1712
    input_format: s32_le,12,frequency
    output_format: s32_le,10,frequency
  null:
    ecasound_id: null
	output_format: cd-stereo

# ALSA device assignments and formats

capture_device: consumer          # for ALSA/OSS
playback_device: consumer        # for ALSA/OSS
mixer_out_format: cd-stereo      # for ALSA/OSS

# audio file formats

mix_to_disk_format: cd-stereo
raw_to_disk_format: s16_le,N,frequency

# globals for our chain setups

ecasound_globals: "-B auto -r -z:mixmode,sum -z:psr "

# WAVs recorded at the same time get the same numeric suffix

use_group_numbering: 1

# commands to execute each time a project is loaded

execute_on_project_load: doodle; start

# effects to apply to mixer output in mastering mode

mastering_effects: ea 100; epp 50; 

eq: ea

low_pass: lowpass_iir

mid_pass: bandpass_iir

high_pass: highpass_iir

compressor: sc4

spatialiser: matrixSpatialiser

boost: ea tap_limiter ea

# end

JAMin signal path:
1) input gain/balance connects to bypass.
2) bypass connects to eq OR delay
3) eq connects to crossover
4a) crossover low connects to compressor 1
4b) crossover mid connects to compressor 2
4c) crossover high connects to compressor 3
5) each of the 3 compressors connects to its own stereo width/balance unit
6) all of the width/balance units connect to the boost unit
7) boost unit connects to the limiter
8) limiter connects to the master volume
9) master volume connects to output
10) delay (up at bypass above) connects to output

Ecasound chainsetup reflecting this signal path:
-a:1 -i in.wav -ea:vol -epp:balance -eli:1970,eq -o loop,eq_out
-a:2,3,4 -i loop,eq_out
-a:2 (-eli:1892,bandp | -eli:1891,lowp -eli:1890,hp) -eli:1882,compressor -eli:1422,matrix_spatialiser
-a:3 (see above for mid)
-a:4 (see above for high)
-a:2,3,4 -o loop,crossover
-a:5 -i loop,crossover -ea:boost -eli:2145,tap_limiter -ea:master_vol -o out.wav
